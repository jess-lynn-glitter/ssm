<script id="mustache" src="~~wompOmniAssetsPath~~/js/mustache.js" type="text/javascript"></script>
<script id="searchJs" src="~~wompOmniAssetsPath~~/js/search.js" type="text/javascript"></script>

<script id="searchScripts" type="text/javascript">

  function startSearchInit() {
    if (window.Mustache && window.makeSearchConfig) {
      const config = window.makeSearchConfig();
      /* Create LocationSearch instance and init; */
      window.search = new LocationSearch(config);
      window.search.init();
    } else {
      setTimeout(() => {
        startSearchInit();
      }, 100);
    }
  }

  function mapRequirement() {
    /* google's javascript api requires a callback */
    console.log('Google Map Loaded');
  }

  startSearchInit();

</script>

<script src="https://maps.google.com/maps/api/js?key=AIzaSyCBMxL0BbkB81x980QosjGg02FtV6ZoFXs&libraries=visualization,places&callback=mapRequirement"></script>
